(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{884:function(n,t,e){"use strict";e.d(t,{Z:function(){return g}});var r=e(7294),c=e(273),a=e.n(c),o=e(9558),u=e(29),s=e(7794),i=e.n(s),l=e(5196),f=e.n(l),d=e(4468),h=e(1664),p=e.n(h),x=e(1163),j=e(5893),_=function(){var n,t=(0,x.useRouter)(),e=(0,r.useState)(""),c=e[0],a=e[1],s=(0,r.useState)(!1),l=s[0],h=s[1],_=(0,r.useState)(""),g=_[0],m=_[1],v=(0,r.useState)({}),b=v[0],y=v[1],$=(0,r.useCallback)((n=(0,u.Z)(i().mark(function n(t){var e;return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==(e=t.target.files)&&void 0!==e&&e.length){n.next=2;break}return n.abrupt("return");case 2:return n.t0=y,n.next=5,d.x.user.$post({headers:{authorization:g},body:{icon:t.target.files[0]}});case 5:n.t1=n.sent,(0,n.t0)(n.t1);case 7:case"end":return n.stop()}},n)})),function(t){return n.apply(this,arguments)}),[g]),k=(0,r.useCallback)((0,u.Z)(i().mark(function n(){var t,e,r;return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=prompt("Enter the user id (See server/.env)"),e=prompt("Enter the user pass (See server/.env)"),!(!t||!e)){n.next=4;break}return n.abrupt("return",alert("Login failed"));case 4:return r="",n.prev=5,n.t0="Bearer ",n.next=9,d.x.token.$post({body:{id:t,pass:e}});case 9:n.t1=n.sent.token,m(r=n.t0.concat.call(n.t0,n.t1)),n.next=17;break;case 14:return n.prev=14,n.t2=n.catch(5),n.abrupt("return",alert("Login failed"));case 17:return n.t3=y,n.next=20,d.x.user.$get({headers:{authorization:r}});case 20:n.t4=n.sent,(0,n.t3)(n.t4),h(!0);case 23:case"end":return n.stop()}},n,null,[[5,14]])})),[]),E=(0,r.useCallback)(function(){m(""),h(!1)},[]);return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:f().userBanner,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(p(),{href:o.V.$url(),className:f().nav,children:"Home"}),(0,j.jsx)(p(),{href:o.V.article.$url(),className:f().nav,children:"Article"})]}),(0,j.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t.push(o.V.article.$url({query:{search:c}}))},children:[(0,j.jsx)("input",{type:"text",name:"query",onInput:function(n){return n.target instanceof HTMLInputElement&&a(n.target.value)}}),(0,j.jsx)("button",{type:"submit",children:"search"})]}),(0,j.jsx)("div",{className:f().spacing}),(0,j.jsx)("div",{children:l?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{src:b.icon,className:f().userIcon}),(0,j.jsx)("span",{children:b.name}),(0,j.jsx)("input",{type:"file",accept:"image/*",onChange:$}),(0,j.jsx)("button",{onClick:E,children:"LOGOUT"})]}):(0,j.jsx)("button",{onClick:k,children:"LOGIN"})})]}),(0,j.jsx)("div",{className:f().padding})]})},g=function(n){var t=n.children;return(0,j.jsxs)("div",{className:a().container,children:[(0,j.jsx)(_,{}),(0,j.jsx)("main",{className:a().main,children:t}),(0,j.jsx)("footer",{className:a().footer,children:(0,j.jsxs)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["Powered by"," ",(0,j.jsx)("img",{src:o.D.vercel_svg,alt:"Vercel Logo",className:a().logo})]})})]})}},453:function(n,t,e){"use strict";e.r(t);var r=e(3301),c=e.n(r),a=e(1163),o=e(9008),u=e.n(o),s=e(1664),i=e.n(s),l=e(884),f=e(9558),d=e(4468),h=e(5893);t.default=function(){var n=(0,a.useRouter)().query,t=n.search?n.search.trim():"",e=c()(d.x.article,{query:{search:t}}).data;return(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(u(),{children:(0,h.jsx)("title",{children:"Articles"})}),(0,h.jsx)("h1",{children:"Articles"}),e?e.length?(0,h.jsxs)(h.Fragment,{children:[t&&(0,h.jsxs)("span",{children:["Results for ",(0,h.jsx)("code",{children:t}),"."]}),(0,h.jsx)("ul",{children:e.map(function(n){return(0,h.jsx)("li",{children:(0,h.jsx)(i(),{href:f.V.article.entry.$url({query:{id:n.id}}),children:n.title})},n.id)})})]}):t&&(0,h.jsxs)("span",{children:["Not found for ",(0,h.jsx)("code",{children:t}),"."]}):(0,h.jsx)("span",{children:"Loading..."})]})}},4468:function(n,t,e){"use strict";e.d(t,{x:function(){return _}});var r,c,a,o,u,s,i,l,f,d,h,p=e(8416),x=e.n(p),j=e(7116),_=(c=(r=x()()).baseURL,a=r.fetch,o=(void 0===c?"https://api-frourio-example.interface-x.org/api":c).replace(/\/$/,""),u="/article",s="/tasks",i="/token",l="/user",f="POST",d="DELETE",h="PATCH",{article:{_articleId:function(n){var t="".concat(u,"/").concat(n);return{get:function(n){return a(o,t,"GET",n).json()},$get:function(n){return a(o,t,"GET",n).json().then(function(n){return n.body})},$path:function(){return"".concat(o).concat(t)}}},get:function(n){return a(o,u,"GET",n).json()},$get:function(n){return a(o,u,"GET",n).json().then(function(n){return n.body})},$path:function(n){return"".concat(o).concat(u).concat(n&&n.query?"?".concat((0,j.dataToURLString)(n.query)):"")}},tasks:{_taskId:function(n){var t="".concat(s,"/").concat(n);return{patch:function(n){return a(o,t,h,n).send()},$patch:function(n){return a(o,t,h,n).send().then(function(n){return n.body})},delete:function(n){return a(o,t,d,n).send()},$delete:function(n){return a(o,t,d,n).send().then(function(n){return n.body})},$path:function(){return"".concat(o).concat(t)}}},get:function(n){return a(o,s,"GET",n).json()},$get:function(n){return a(o,s,"GET",n).json().then(function(n){return n.body})},post:function(n){return a(o,s,f,n).json()},$post:function(n){return a(o,s,f,n).json().then(function(n){return n.body})},$path:function(n){return"".concat(o).concat(s).concat(n&&n.query?"?".concat((0,j.dataToURLString)(n.query)):"")}},token:{post:function(n){return a(o,i,f,n).json()},$post:function(n){return a(o,i,f,n).json().then(function(n){return n.body})},$path:function(){return"".concat(o).concat(i)}},user:{get:function(n){return a(o,l,"GET",n).json()},$get:function(n){return a(o,l,"GET",n).json().then(function(n){return n.body})},post:function(n){return a(o,l,f,n,"FormData").json()},$post:function(n){return a(o,l,f,n,"FormData").json().then(function(n){return n.body})},$path:function(){return"".concat(o).concat(l)}},get:function(n){return a(o,"","GET",n).text()},$get:function(n){return a(o,"","GET",n).text().then(function(n){return n.body})},$path:function(){return"".concat(o)}})},1666:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article",function(){return e(453)}])},273:function(n){n.exports={container:"Layout_container__nRe7b",main:"Layout_main__T_Jjv",footer:"Layout_footer__DSG5r",logo:"Layout_logo__Ufs6S"}},5196:function(n){n.exports={userBanner:"UserBanner_userBanner__YyrEf",userIcon:"UserBanner_userIcon__MfoIQ",spacing:"UserBanner_spacing__Kg_5Q",nav:"UserBanner_nav__c12iP",padding:"UserBanner_padding__jJ_oH"}}},function(n){n.O(0,[537,774,888,179],function(){return n(n.s=1666)}),_N_E=n.O()}]);