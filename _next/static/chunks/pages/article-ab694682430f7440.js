(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{2438:function(n,e,t){"use strict";t.d(e,{k:function(){return l}});var r,c,u,o,a=t(29),s=t(7794),i=t.n(s),f=t(5387),l={currentAuthenticatedUser:(r=(0,a.Z)(i().mark(function n(){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.d.Auth.currentAuthenticatedUser();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)})),function(){return r.apply(this,arguments)}),getCurrentToken:(c=(0,a.Z)(i().mark(function n(){var e;return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.d.Auth.currentSession();case 3:return e=n.sent.getAccessToken().getJwtToken(),n.abrupt("return",e);case 9:n.prev=9,n.t0=n.catch(0),console.log("failed to get current auth token",n.t0);case 12:case"end":return n.stop()}},n,null,[[0,9]])})),function(){return c.apply(this,arguments)}),signIn:(u=(0,a.Z)(i().mark(function n(e){var t,r,c;return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.username,r=e.password,n.prev=1,n.next=4,f.d.Auth.signIn(t,r);case 4:return c=n.sent,n.abrupt("return",c);case 8:n.prev=8,n.t0=n.catch(1),console.log("error signing in",n.t0);case 11:case"end":return n.stop()}},n,null,[[1,8]])})),function(n){return u.apply(this,arguments)}),signOut:(o=(0,a.Z)(i().mark(function n(){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.d.Auth.signOut();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log("error signing out: ",n.t0);case 8:case"end":return n.stop()}},n,null,[[0,5]])})),function(){return o.apply(this,arguments)})}},5144:function(n,e,t){"use strict";t.d(e,{Z:function(){return v}});var r=t(7294),c=t(273),u=t.n(c),o=t(9558),a=t(29),s=t(7794),i=t.n(s),f=t(3571),l=t.n(f),p=t(1664),d=t.n(p),h=t(1163),g=t(2438),x=t(8291),j=t(5893),m=function(){var n,e=(0,h.useRouter)(),t=(0,r.useState)(""),c=t[0],u=t[1],s=(0,r.useState)({}),f=s[0];s[1];var p=(0,r.useContext)(x.V).isAuthenticated,m=(n=(0,a.Z)(i().mark(function n(){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.k.signOut();case 2:case"end":return n.stop()}},n)})),function(){return n.apply(this,arguments)});return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:l().userBanner,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(d(),{href:o.V.$url(),className:l().nav,children:"Home"}),(0,j.jsx)(d(),{href:o.V.article.$url(),className:l().nav,children:"Article"})]}),(0,j.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e.push(o.V.article.$url({query:{search:c}}))},children:[(0,j.jsx)("input",{type:"text",name:"query",onInput:function(n){return n.target instanceof HTMLInputElement&&u(n.target.value)}}),(0,j.jsx)("button",{type:"submit",children:"search"})]}),(0,j.jsx)("div",{className:l().spacing}),(0,j.jsx)("div",{children:p?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{src:f.icon,className:l().userIcon}),(0,j.jsx)("span",{children:f.name}),(0,j.jsx)("input",{type:"file",accept:"image/*",onChange:function(){console.log("edit icon")}}),(0,j.jsx)("button",{onClick:m,children:"LOGOUT"})]}):null})]}),(0,j.jsx)("div",{className:l().padding})]})},v=function(n){var e=n.children;return(0,j.jsxs)("div",{className:u().container,children:[(0,j.jsx)(m,{}),(0,j.jsx)("main",{className:u().main,children:e}),(0,j.jsx)("footer",{className:u().footer,children:(0,j.jsxs)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["Powered by"," ",(0,j.jsx)("img",{src:o.D.vercel_svg,alt:"Vercel Logo",className:u().logo})]})})]})}},453:function(n,e,t){"use strict";t.r(e);var r=t(3301),c=t.n(r),u=t(1163),o=t(9008),a=t.n(o),s=t(1664),i=t.n(s),f=t(5144),l=t(9558),p=t(4468),d=t(5893);e.default=function(){var n=(0,u.useRouter)().query,e=n.search?n.search.trim():"",t=c()(p.x.article,{query:{search:e}}).data;return(0,d.jsxs)(f.Z,{children:[(0,d.jsx)(a(),{children:(0,d.jsx)("title",{children:"Articles"})}),(0,d.jsx)("h1",{children:"Articles"}),t?t.length?(0,d.jsxs)(d.Fragment,{children:[e&&(0,d.jsxs)("span",{children:["Results for ",(0,d.jsx)("code",{children:e}),"."]}),(0,d.jsx)("ul",{children:t.map(function(n){return(0,d.jsx)("li",{children:(0,d.jsx)(i(),{href:l.V.article.entry.$url({query:{id:n.id}}),children:n.title})},n.id)})})]}):e&&(0,d.jsxs)("span",{children:["Not found for ",(0,d.jsx)("code",{children:e}),"."]}):(0,d.jsx)("span",{children:"Loading..."})]})}},4468:function(n,e,t){"use strict";t.d(e,{x:function(){return E}});var r,c,u,o,a,s,i,f,l,p,d,h=t(9499),g=t(29),x=t(7794),j=t.n(x),m=t(9669),v=t.n(m),_=t(8416),y=t.n(_),b=t(7116),w=t(2438);function k(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function O(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?k(Object(t),!0).forEach(function(e){(0,h.Z)(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}var T=v().create();T.interceptors.request.use((r=(0,g.Z)(j().mark(function n(e){var t;return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.k.getCurrentToken();case 2:return t=n.sent,e.headers=O(O({},e.headers),{},{Authorization:"Bearer ".concat(t)}),n.abrupt("return",e);case 5:case"end":return n.stop()}},n)})),function(n){return r.apply(this,arguments)}));var E=(u=(c=y()(T)).baseURL,o=c.fetch,a=(void 0===u?"https://api-frourio-example.interface-x.org/api":u).replace(/\/$/,""),s="/article",i="/tasks",f="/users",l="POST",p="DELETE",d="PATCH",{article:{_articleId:function(n){var e="".concat(s,"/").concat(n);return{get:function(n){return o(a,e,"GET",n).json()},$get:function(n){return o(a,e,"GET",n).json().then(function(n){return n.body})},$path:function(){return"".concat(a).concat(e)}}},get:function(n){return o(a,s,"GET",n).json()},$get:function(n){return o(a,s,"GET",n).json().then(function(n){return n.body})},$path:function(n){return"".concat(a).concat(s).concat(n&&n.query?"?".concat((0,b.dataToURLString)(n.query)):"")}},tasks:{_taskId:function(n){var e="".concat(i,"/").concat(n);return{patch:function(n){return o(a,e,d,n).send()},$patch:function(n){return o(a,e,d,n).send().then(function(n){return n.body})},delete:function(n){return o(a,e,p,n).send()},$delete:function(n){return o(a,e,p,n).send().then(function(n){return n.body})},$path:function(){return"".concat(a).concat(e)}}},get:function(n){return o(a,i,"GET",n).json()},$get:function(n){return o(a,i,"GET",n).json().then(function(n){return n.body})},post:function(n){return o(a,i,l,n).json()},$post:function(n){return o(a,i,l,n).json().then(function(n){return n.body})},$path:function(n){return"".concat(a).concat(i).concat(n&&n.query?"?".concat((0,b.dataToURLString)(n.query)):"")}},users:{get:function(n){return o(a,f,"GET",n).json()},$get:function(n){return o(a,f,"GET",n).json().then(function(n){return n.body})},post:function(n){return o(a,f,l,n,"FormData").json()},$post:function(n){return o(a,f,l,n,"FormData").json().then(function(n){return n.body})},$path:function(){return"".concat(a).concat(f)}},get:function(n){return o(a,"","GET",n).text()},$get:function(n){return o(a,"","GET",n).text().then(function(n){return n.body})},$path:function(){return"".concat(a)}})},1666:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article",function(){return t(453)}])},3571:function(n){n.exports={userBanner:"DefaultHeader_userBanner__G79t5",userIcon:"DefaultHeader_userIcon__JkRmB",spacing:"DefaultHeader_spacing__mqHrq",nav:"DefaultHeader_nav__Xhpqc",padding:"DefaultHeader_padding__cZNt8"}},273:function(n){n.exports={container:"Layout_container__nRe7b",main:"Layout_main__T_Jjv",footer:"Layout_footer__DSG5r",logo:"Layout_logo__Ufs6S"}}},function(n){n.O(0,[537,774,888,179],function(){return n(n.s=1666)}),_N_E=n.O()}]);