(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2438:function(n,t,e){"use strict";e.d(t,{k:function(){return l}});var r,c,o,u=e(29),s=e(7794),a=e.n(s),i=e(5387),l={getCurrentToken:(r=(0,u.Z)(a().mark(function n(){var t;return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.d.Auth.currentSession();case 3:return t=n.sent.getAccessToken().getJwtToken(),n.abrupt("return",t);case 9:n.prev=9,n.t0=n.catch(0),console.log("failed to get current auth token",n.t0);case 12:case"end":return n.stop()}},n,null,[[0,9]])})),function(){return r.apply(this,arguments)}),signIn:(c=(0,u.Z)(a().mark(function n(t){var e,r,c;return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.username,r=t.password,n.prev=1,n.next=4,i.d.Auth.signIn(e,r);case 4:return c=n.sent,n.abrupt("return",c);case 8:n.prev=8,n.t0=n.catch(1),console.log("error signing in",n.t0);case 11:case"end":return n.stop()}},n,null,[[1,8]])})),function(n){return c.apply(this,arguments)}),signOut:(o=(0,u.Z)(a().mark(function n(){return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.d.Auth.signOut();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log("error signing out: ",n.t0);case 8:case"end":return n.stop()}},n,null,[[0,5]])})),function(){return o.apply(this,arguments)})}},884:function(n,t,e){"use strict";e.d(t,{Z:function(){return _}});var r=e(7294),c=e(273),o=e.n(c),u=e(9558),s=e(29),a=e(7794),i=e.n(a),l=e(4384),p=e.n(l),f=e(1664),d=e.n(f),h=e(1163),x=e(2438),j=e(5893),g=function(){var n=(0,h.useRouter)(),t=(0,r.useState)(""),e=t[0],c=t[1],o=(0,r.useState)({});return o[0],o[1],(0,r.useCallback)((0,s.Z)(i().mark(function n(){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.k.signOut();case 2:case"end":return n.stop()}},n)})),[]),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:p().userBanner,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(d(),{href:u.V.$url(),className:p().nav,children:"Home"}),(0,j.jsx)(d(),{href:u.V.article.$url(),className:p().nav,children:"Article"})]}),(0,j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n.push(u.V.article.$url({query:{search:e}}))},children:[(0,j.jsx)("input",{type:"text",name:"query",onInput:function(n){return n.target instanceof HTMLInputElement&&c(n.target.value)}}),(0,j.jsx)("button",{type:"submit",children:"search"})]}),(0,j.jsx)("div",{className:p().spacing}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:function(){console.log("login")},children:"LOGIN"})})]}),(0,j.jsx)("div",{className:p().padding})]})},_=function(n){var t=n.children;return(0,j.jsxs)("div",{className:o().container,children:[(0,j.jsx)(g,{}),(0,j.jsx)("main",{className:o().main,children:t}),(0,j.jsx)("footer",{className:o().footer,children:(0,j.jsxs)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["Powered by"," ",(0,j.jsx)("img",{src:u.D.vercel_svg,alt:"Vercel Logo",className:o().logo})]})})]})}},2779:function(n,t,e){"use strict";e.r(t);var r=e(29),c=e(7794),o=e.n(c),u=e(9008),s=e.n(u),a=e(7294),i=e(3301),l=e.n(i),p=e(4456),f=e.n(p),d=e(4468),h=e(884),x=e(5893);t.default=function(){var n,t,e,c=l()(d.x.tasks),u=c.data,i=c.error,p=c.mutate,j=(0,a.useState)(""),g=j[0],_=j[1],v=(0,a.useCallback)(function(n){return _(n.target.value)},[]),m=(0,a.useCallback)((n=(0,r.Z)(o().mark(function n(t){return o().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("createTask"),t.preventDefault(),g){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,d.x.tasks.post({body:{label:g}});case 6:_(""),p();case 8:case"end":return n.stop()}},n)})),function(t){return n.apply(this,arguments)}),[g]),b=(0,a.useCallback)((t=(0,r.Z)(o().mark(function n(t){return o().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.x.tasks._taskId(t.id).patch({body:{done:!t.done}});case 2:p();case 3:case"end":return n.stop()}},n)})),function(n){return t.apply(this,arguments)}),[]),k=(0,a.useCallback)((e=(0,r.Z)(o().mark(function n(t){return o().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.x.tasks._taskId(t.id).delete();case 2:p();case 3:case"end":return n.stop()}},n)})),function(n){return e.apply(this,arguments)}),[]);return i?(0,x.jsx)("div",{children:"failed to load"}):(0,x.jsxs)(h.Z,{children:[(0,x.jsx)(s(),{children:(0,x.jsx)("title",{children:"frourio-todo-app"})}),(0,x.jsxs)("h1",{className:f().title,children:["Welcome to ",(0,x.jsx)("a",{href:"https://nextjs.org",children:"Next.js!"})]}),(0,x.jsx)("p",{className:f().description,children:"frourio-todo-app"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("form",{style:{textAlign:"center"},onSubmit:m,children:[(0,x.jsx)("input",{value:g,type:"text",onChange:v}),(0,x.jsx)("input",{type:"submit",value:"ADD"})]}),u&&(0,x.jsx)("ul",{className:f().tasks,children:u.map(function(n){return(0,x.jsxs)("li",{children:[(0,x.jsxs)("label",{children:[(0,x.jsx)("input",{type:"checkbox",checked:n.done,onChange:function(){return b(n)}}),(0,x.jsx)("span",{children:n.label})]}),(0,x.jsx)("input",{type:"button",value:"DELETE",style:{float:"right"},onClick:function(){return k(n)}})]},n.id)})})]})]})}},4468:function(n,t,e){"use strict";e.d(t,{x:function(){return $}});var r,c,o,u,s,a,i,l,p,f,d,h,x=e(9499),j=e(29),g=e(7794),_=e.n(g),v=e(9669),m=e.n(v),b=e(8416),k=e.n(b),y=e(7116),w=e(2438);function T(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,r)}return e}function O(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?T(Object(e),!0).forEach(function(t){(0,x.Z)(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):T(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var E=m().create();E.interceptors.request.use((r=(0,j.Z)(_().mark(function n(t){var e;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.k.getCurrentToken();case 2:return e=n.sent,t.headers=O(O({},t.headers),{},{Authorization:"Bearer ".concat(e)}),n.abrupt("return",t);case 5:case"end":return n.stop()}},n)})),function(n){return r.apply(this,arguments)}));var $=(o=(c=k()(E)).baseURL,u=c.fetch,s=(void 0===o?"https://api-frourio-example.interface-x.org/api":o).replace(/\/$/,""),a="/article",i="/tasks",l="/token",p="/user",f="POST",d="DELETE",h="PATCH",{article:{_articleId:function(n){var t="".concat(a,"/").concat(n);return{get:function(n){return u(s,t,"GET",n).json()},$get:function(n){return u(s,t,"GET",n).json().then(function(n){return n.body})},$path:function(){return"".concat(s).concat(t)}}},get:function(n){return u(s,a,"GET",n).json()},$get:function(n){return u(s,a,"GET",n).json().then(function(n){return n.body})},$path:function(n){return"".concat(s).concat(a).concat(n&&n.query?"?".concat((0,y.dataToURLString)(n.query)):"")}},tasks:{_taskId:function(n){var t="".concat(i,"/").concat(n);return{patch:function(n){return u(s,t,h,n).send()},$patch:function(n){return u(s,t,h,n).send().then(function(n){return n.body})},delete:function(n){return u(s,t,d,n).send()},$delete:function(n){return u(s,t,d,n).send().then(function(n){return n.body})},$path:function(){return"".concat(s).concat(t)}}},get:function(n){return u(s,i,"GET",n).json()},$get:function(n){return u(s,i,"GET",n).json().then(function(n){return n.body})},post:function(n){return u(s,i,f,n).json()},$post:function(n){return u(s,i,f,n).json().then(function(n){return n.body})},$path:function(n){return"".concat(s).concat(i).concat(n&&n.query?"?".concat((0,y.dataToURLString)(n.query)):"")}},token:{post:function(n){return u(s,l,f,n).json()},$post:function(n){return u(s,l,f,n).json().then(function(n){return n.body})},$path:function(){return"".concat(s).concat(l)}},user:{get:function(n){return u(s,p,"GET",n).json()},$get:function(n){return u(s,p,"GET",n).json().then(function(n){return n.body})},post:function(n){return u(s,p,f,n,"FormData").json()},$post:function(n){return u(s,p,f,n,"FormData").json().then(function(n){return n.body})},$path:function(){return"".concat(s).concat(p)}},get:function(n){return u(s,"","GET",n).text()},$get:function(n){return u(s,"","GET",n).text().then(function(n){return n.body})},$path:function(){return"".concat(s)}})},8312:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(2779)}])},4384:function(n){n.exports={userBanner:"UserBanner_userBanner__276R5",userIcon:"UserBanner_userIcon__Ckdoj",spacing:"UserBanner_spacing__o9vqG",nav:"UserBanner_nav__KTgI1",padding:"UserBanner_padding__7OL0_"}},4456:function(n){n.exports={title:"Home_title__FX7xZ",description:"Home_description__Qwq1f",tasks:"Home_tasks__nppVS"}},273:function(n){n.exports={container:"Layout_container__nRe7b",main:"Layout_main__T_Jjv",footer:"Layout_footer__DSG5r",logo:"Layout_logo__Ufs6S"}}},function(n){n.O(0,[537,774,888,179],function(){return n(n.s=8312)}),_N_E=n.O()}]);